<!DOCTYPE html>
<html>
<body>
    <h1>
        Web Socket Example!!!
    </h1>
    <p>This example writes Date:Time into an HTML element with id="demo":</p>
    <p id="demo"></p>

    <script>
        //使用 WebSocket 的網址向 Server 開啟連結
        var ws = new WebSocket('ws://localhost:40510');

        //開啟後執行的動作，指定一個 function 會在連結 WebSocket 後執行
        ws.onopen = function () {
            console.log('websocket is connected ...')
            ws.send('Hi this is web client, connected...')
        }

        //關閉後執行的動作，指定一個 function 會在連結中斷後執行
        ws.onclose = () => {
            console.log('close connection')
        }

        //接收 Server 發送的訊息
        ws.onmessage = function (ev) {
            console.log(ev.data);
            document.getElementById("demo").innerHTML = ev.data;
        }
    </script>
</body>
</html>

